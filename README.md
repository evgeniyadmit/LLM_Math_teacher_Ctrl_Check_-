# LLM_Math_teacher_Ctrl_Check_-
LLM-Преподаватель: Ctrl + Check / Образование. Задача по созданию автоматизированной системы для решения математических задач. Основная цель — разработать модель, способную точно интерпретировать условие задачи и выдавать правильный ответ в числовой или символической форме.

## LLM-Преподаватель математики (DeepSeek-Math QLoRA)

Репозиторий с решением задачи «LLM-Преподаватель: Ctrl + Check / Образование».  

Цель — научить LLM точно интерпретировать условие математической задачи и выдавать ответ строго в формате [число] (или простая дробь/вещественное число).

### Основные идеи

- Базовая модель: deepseek-ai/deepseek-math-7b-instruct.

- Обучение через QLoRA (4-bit, PEFT) на mix'е данных:

  - оригинальный train.csv,

  - парафразы задач, сгенерированные самой LLM,

  - синтетические задачи:

     - арифметика,

     - линейные уравнения,

    - квадратные уравнения с целыми корнями,

    - поиск НОД.

- Формат обучения — инструкции:

  - «Ты — математический ассистент... В конце выведи ответ в формате [число].»

### Инференс

- Специальный промпт с несколькими few-shot примерами.

- Генерация нескольких ответов на разных seed + self-consistency voting:

  - нормализация ответа (дроби, вещественные, округление малых значений к 0),

  - выбор самого частого варианта,

  - fallback к [0], если ничего не удаётся извлечь.

- Скрипт для пошаговой обработки test.csv с докозапуском и логированием голосов.

  Для корректного запуска проекта, у вас должны быть свои вышеперечисленные файлы (train.csv; test.csv)
Inference script is not included, as it may be restricted by competition rules.
To participate or reproduce results, you should build your own inference.py based on the competition format and ensure that outputs match the required submission schema.

### Статус

Решение — бейзлайн исследовательского уровня для LLM-системы,
которая умеет решать школьно-олимпиадные задачи и выдавать строго
форматированный ответ. Метрика пока далека от SOTA, но код демонстрирует:
работу с QLoRA, генерацию и аугментацию данных, кастомный инференс
с голосованием и контролем формата ответа. Бейзлайн требует доработки данных и промпта.

